Unit Global;

Interface

  Const

    MaxMine = 100;
    MaxMineHeight = 30;
    MaxMineWidth = 30;

  Type

    TMineField = Object
      Height, Width : Byte;
      Mines : Integer;
      Mine : Array[1..MaxMineHeight, 1..MaxMineWidth] Of Byte;
      Mask : Array[1..MaxMineHeight, 1..MaxMineWidth] Of Byte;

      Procedure ShowMine(Y, X : Byte);
      Procedure ShowMineField;
      Procedure InitMineField;
    End;


  Var
    MineField : TMineField;

  Const
    MineIcons = 13;
    MineIcon : Array[1..MineIcons, 1..15, 1..15] Of Byte =
               ((( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7,12,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7,12,12,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7,12,12, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7,12,12,12,12,12,12, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 2, 2, 2, 2, 2, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 2, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 2, 2, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 2, 2, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 2, 2, 2, 2, 2, 2, 2, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 9, 9, 9, 9, 9, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 9, 9, 9, 9, 9, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 9, 9, 9, 9, 9, 9, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 4, 4, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 4, 4, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 4, 4, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 4, 4, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 4, 4, 4, 4, 4, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 4, 4, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 1, 1, 1, 1, 1, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 1, 1, 1, 1, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 1, 1, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 1, 1, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 1, 1, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 7, 7, 7, 1, 1, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 1, 1, 1, 1, 1, 1, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 6, 6, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 6, 6, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 6, 6, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 6, 6, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 6, 6, 7, 7, 7, 6, 6, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 5, 5, 5, 5, 5, 5, 5, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 5, 5, 7, 7, 7, 5, 5, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 0, 7, 7, 7, 0, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                ((15,15,15,15,15,15,15,15,15,15,15,15,15,15,15),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8)),
                ((15,15,15,15,15,15,15,15,15,15,15,15,15,15,15),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 9, 9, 9, 9, 1, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 9, 9, 9, 1, 1, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 9, 9, 1, 1, 1, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 9, 1, 1, 1, 1, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 8, 0, 8, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 8, 0, 0, 0, 0, 0, 8, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8)),
                ((15,15,15,15,15,15,15,15,15,15,15,15,15,15,15),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7,12,12,12,12, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7,12, 4, 4, 4,12, 4, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7,12, 4, 7, 7,12, 4, 4, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7,12, 4, 4, 7, 7, 7, 7, 7, 8),
                 (15, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8),
                 (15, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8)),
                (( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 8, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 7, 8, 0, 8, 7, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 8, 0,15, 0, 0, 0, 8, 7, 7, 7, 7),
                 ( 7, 7, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 7, 7),
                 ( 7, 7, 7, 7, 8, 0, 0, 0, 0, 0, 8, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 0, 7, 8, 0, 8, 7, 0, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 0, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 8, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7),
                 ( 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7)),
                (( 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 1, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 0, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 1, 9, 1, 0, 1, 9, 1, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 0, 0, 0, 0, 0, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 1, 0,15, 0, 0, 0, 1, 9, 9, 9, 9),
                 ( 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9),
                 ( 9, 9, 9, 9, 1, 0, 0, 0, 0, 0, 1, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 0, 0, 0, 0, 0, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 1, 9, 1, 0, 1, 9, 1, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 0, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 1, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9),
                 ( 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9)));

Implementation

End.